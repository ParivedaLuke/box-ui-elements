/**
 * 
 * @file Helper for some browser utilities
 * @author Box
 */

var isDashSupported = void 0;

/**
 * Returns the user agent.
 * Helps in mocking out.
 *
 * @return {String} navigator userAgent
 */
export function getUserAgent() {
  return navigator.userAgent;
}

/**
 * Returns whether browser is mobile.
 *
 * @return {boolean} Whether browser is mobile
 */
export function isMobile() {
  // Relying on the user agent to avoid desktop browsers on machines with touch screens.
  return (/iphone|ipad|ipod|android|blackberry|bb10|mini|windows\sce|palm/i.test(getUserAgent())
  );
}

/**
 * Returns whether browser is IE.
 *
 * @return {boolena} Whether browser is IE
 */
export function isIE() {
  return (/Trident/i.test(getUserAgent())
  );
}

/**
 * Checks the browser for Dash support using H264 high.
 * Dash requires MediaSource extensions to exist and be applicable
 * to the H264 container (since we use H264 and not webm)
 *
 * @public
 * @param { boolean} recheck - recheck support
 * @return {boolean} true if dash is usable
 */
export function canPlayDash() {
  var recheck = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;

  if (typeof isDashSupported === 'undefined' || recheck) {
    var mse = global.MediaSource;
    isDashSupported = !!mse && typeof mse.isTypeSupported === 'function' && mse.isTypeSupported('video/mp4; codecs="avc1.64001E"');
  }
  return isDashSupported;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJyb3dzZXIuanMiXSwibmFtZXMiOlsiaXNEYXNoU3VwcG9ydGVkIiwiZ2V0VXNlckFnZW50IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiaXNNb2JpbGUiLCJ0ZXN0IiwiaXNJRSIsImNhblBsYXlEYXNoIiwicmVjaGVjayIsIm1zZSIsImdsb2JhbCIsIk1lZGlhU291cmNlIiwiaXNUeXBlU3VwcG9ydGVkIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0FBTUEsSUFBSUEsd0JBQUo7O0FBRUE7Ozs7OztBQU1BLE9BQU8sU0FBU0MsWUFBVCxHQUFnQztBQUNuQyxTQUFPQyxVQUFVQyxTQUFqQjtBQUNIOztBQUVEOzs7OztBQUtBLE9BQU8sU0FBU0MsUUFBVCxHQUE2QjtBQUNoQztBQUNBLFNBQU8sbUVBQWtFQyxJQUFsRSxDQUF1RUosY0FBdkU7QUFBUDtBQUNIOztBQUVEOzs7OztBQUtBLE9BQU8sU0FBU0ssSUFBVCxHQUFnQjtBQUNuQixTQUFPLFlBQVdELElBQVgsQ0FBZ0JKLGNBQWhCO0FBQVA7QUFDSDs7QUFFRDs7Ozs7Ozs7O0FBU0EsT0FBTyxTQUFTTSxXQUFULEdBQStDO0FBQUEsTUFBMUJDLE9BQTBCLHVFQUFQLEtBQU87O0FBQ2xELE1BQUksT0FBT1IsZUFBUCxLQUEyQixXQUEzQixJQUEwQ1EsT0FBOUMsRUFBdUQ7QUFDbkQsUUFBTUMsTUFBTUMsT0FBT0MsV0FBbkI7QUFDQVgsc0JBQ0ksQ0FBQyxDQUFDUyxHQUFGLElBQ0EsT0FBT0EsSUFBSUcsZUFBWCxLQUErQixVQUQvQixJQUVBSCxJQUFJRyxlQUFKLENBQW9CLGlDQUFwQixDQUhKO0FBSUg7QUFDRCxTQUFPWixlQUFQO0FBQ0giLCJmaWxlIjoiYnJvd3Nlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBAZmxvd1xyXG4gKiBAZmlsZSBIZWxwZXIgZm9yIHNvbWUgYnJvd3NlciB1dGlsaXRpZXNcclxuICogQGF1dGhvciBCb3hcclxuICovXHJcblxyXG5sZXQgaXNEYXNoU3VwcG9ydGVkO1xyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdGhlIHVzZXIgYWdlbnQuXHJcbiAqIEhlbHBzIGluIG1vY2tpbmcgb3V0LlxyXG4gKlxyXG4gKiBAcmV0dXJuIHtTdHJpbmd9IG5hdmlnYXRvciB1c2VyQWdlbnRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRVc2VyQWdlbnQoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50O1xyXG59XHJcblxyXG4vKipcclxuICogUmV0dXJucyB3aGV0aGVyIGJyb3dzZXIgaXMgbW9iaWxlLlxyXG4gKlxyXG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIGJyb3dzZXIgaXMgbW9iaWxlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNNb2JpbGUoKTogYm9vbGVhbiB7XHJcbiAgICAvLyBSZWx5aW5nIG9uIHRoZSB1c2VyIGFnZW50IHRvIGF2b2lkIGRlc2t0b3AgYnJvd3NlcnMgb24gbWFjaGluZXMgd2l0aCB0b3VjaCBzY3JlZW5zLlxyXG4gICAgcmV0dXJuIC9pcGhvbmV8aXBhZHxpcG9kfGFuZHJvaWR8YmxhY2tiZXJyeXxiYjEwfG1pbml8d2luZG93c1xcc2NlfHBhbG0vaS50ZXN0KGdldFVzZXJBZ2VudCgpKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgd2hldGhlciBicm93c2VyIGlzIElFLlxyXG4gKlxyXG4gKiBAcmV0dXJuIHtib29sZW5hfSBXaGV0aGVyIGJyb3dzZXIgaXMgSUVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0lFKCkge1xyXG4gICAgcmV0dXJuIC9UcmlkZW50L2kudGVzdChnZXRVc2VyQWdlbnQoKSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDaGVja3MgdGhlIGJyb3dzZXIgZm9yIERhc2ggc3VwcG9ydCB1c2luZyBIMjY0IGhpZ2guXHJcbiAqIERhc2ggcmVxdWlyZXMgTWVkaWFTb3VyY2UgZXh0ZW5zaW9ucyB0byBleGlzdCBhbmQgYmUgYXBwbGljYWJsZVxyXG4gKiB0byB0aGUgSDI2NCBjb250YWluZXIgKHNpbmNlIHdlIHVzZSBIMjY0IGFuZCBub3Qgd2VibSlcclxuICpcclxuICogQHB1YmxpY1xyXG4gKiBAcGFyYW0geyBib29sZWFufSByZWNoZWNrIC0gcmVjaGVjayBzdXBwb3J0XHJcbiAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgZGFzaCBpcyB1c2FibGVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjYW5QbGF5RGFzaChyZWNoZWNrOiBib29sZWFuID0gZmFsc2UpIHtcclxuICAgIGlmICh0eXBlb2YgaXNEYXNoU3VwcG9ydGVkID09PSAndW5kZWZpbmVkJyB8fCByZWNoZWNrKSB7XHJcbiAgICAgICAgY29uc3QgbXNlID0gZ2xvYmFsLk1lZGlhU291cmNlO1xyXG4gICAgICAgIGlzRGFzaFN1cHBvcnRlZCA9XHJcbiAgICAgICAgICAgICEhbXNlICYmXHJcbiAgICAgICAgICAgIHR5cGVvZiBtc2UuaXNUeXBlU3VwcG9ydGVkID09PSAnZnVuY3Rpb24nICYmXHJcbiAgICAgICAgICAgIG1zZS5pc1R5cGVTdXBwb3J0ZWQoJ3ZpZGVvL21wNDsgY29kZWNzPVwiYXZjMS42NDAwMUVcIicpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGlzRGFzaFN1cHBvcnRlZDtcclxufVxyXG4iXX0=